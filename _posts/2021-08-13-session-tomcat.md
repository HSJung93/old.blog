---
title: "2대 이상의 서버에서 세션을 어떻게 관리해야하는가?"
date: 2021-08-13T21:13:55+09:00
categories:
  - 메모
tags:
  - session
  - tomcat
header:
  teaser: /assets/images/code.jpg
---

2대 이상의 서버에서 서비스하고 있다면 세션 저장소에 대하여 다음의 3가지 중 한 가지를 선택한다. 

1. 톰캣 세션을 사용한다.
   * 일반적으로 별다른 설정을 하지 않을 때 기본적으로 선택되는 방식이다.
   * 톰캣(WAS: Web Application Server)에 세션이 저장되기 때문에 2대 이상의 WAS가 구동되는 환경에서는 톰캣들 간의 세션 공유를 위한 추가 설정이 필요하다. 
2. MySQL과 같은 데이터베이스를 세션 저장소로 사용한다
   * 여러 WAS 간의 공용 세션을 사용할 수 있는 가장 쉬운 방법이다.
   * 많은 설정이 필요없지만, 로그인 요청마다 DB IO가 발생하여 성능상 이슈가 발생할 수 있다.
   * 보통 로그인 요청이 많이 없는 백오피스, 사내 시스템 용도에서 사용한다.
3. Redis, Memcached와 같은 메모리 DB를 세션 저장소로 사용한다. 
   * B2C 서비스에서 가장 많이 사용하는 방식이다.
   * 실제 서비스로 사용하기 위해서는 Embedded Redis와 같은 방식이 아닌 외부 메모리 서버가 필요하다. 

이동욱. 스프링 부트와 AWS로 혼자 구현하는 웹 서비스. 201쪽.