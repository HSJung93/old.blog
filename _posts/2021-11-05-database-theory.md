---
title: "데이터베이스론"
date: 2021-11-05T12:23:00+09:00
categories:
  - 메모
tags:
  - 데이터베이스론
header:
  teaser: /assets/images/slipBox.jpg
---

# 데이터베이스론

## 1. 데이터와 파일 기본 개념

- 필드, 레코드, 파일의 관계에 대하여 설명하시오: **레코드**는 컴퓨터 처리를 함에 있어 처리의 대상이 되는 한 건 분의 데이터이다. 하나의 레코드는 데이터 항목 또는 **필드나 컬럼**으로 구성된다.
- 마스터 파일과 트랜잭션 파일의 관계는: 처리의 주체가 되는 레코드가 저장된 파일을 **마스터 파일**이라고 한다. 매일매일 발생하는 데이터를 모아놓은 파일을 **트랜잭션 파일**이라 한다.

## 2. 데이터베이스의 기본 개념

- **랜덤 액세스**란 데이터에 주소를 지정해서 관리하여 일단 저장된 데이터를 읽어들이거나 갱신을 할 때 지정된 주소를 직접 찾음으로써 데이터가 어떻게 저장되어 있더라도 신속하게 처리가 가능한 것을 말한다.
- **데이터 독립성**이란 한 계층의 스키마를 변경시킬 때 그 다음 계층의 스키마에 영향을 주지 않는 성질을 말한다. 논리적 데이터 독립성은 응용 프로그램에 영향을 주지 않고 논리적 데이터 구조의 변경이 가능한 성질을 말한다. 물리적 데이터 독립성은 개념적 스키마를 수정하지 않고 내부 스키마를 변경시킬 수 있는 성질을 말한다.
- **스키마**란 데이터베이스에서 데이터를 취급할 때 데이터의 성질, 형식, 또는 데이터와의 관계 등 데이터 정의의 집합을 의미한다. 데이터베이스 시스템의 스키마 구조는 사용자의 응용 프로그램과 논리적인 데이터베이스 구조의 기술부터 물리적인 데이터베이스 구조의 기술까지를 3계층으로 구분하여 명명하는데, 이를 일컬어 **3계층 스키마**라고 한다. 스키마에는 물리적인 데이터 베이스 구조를 기술하는 내부 스키마, 논리적인 데이터베이스를 기술하는 개념스키마, 외부적인 데이터베이스 구조를 기술하는 외부 스키마 또는 사용자 뷰(View)가 존재한다.
- **외부 스키마**는 사용자가 직접 인터페이스 할 수 있는 바깥쪽의 스키마로서 일반적으로 서브스키마라는 이름으로 많이 불려진다. 응용 프로그래머가 데이터ㅐ베이스를 바라보는 관점을 나타낸 것이다. 특정 사용자가 관심을 갖는 데이터만 추출한 데이터베이스의 ㅣ부분집합이다.
- **개념 스키마**는 모든 사용자의 관점을 통합한 전체 데이터베이스의 관점이라 볼 수 있다. 스키마라 하면 일반적으로 개념 스키마를 의미한다. 논리적인 데이터베이스 전체의 구조를 의미한다. 레코드와 데이터 항목의 이름을 부여하고 그들 사이의 관계를 명시해준다. 데이터베이스의 물리적 저장구조의 표현을 제외한 개체와 이들의 관계, 자료형, 사용자 연산, 제약조건 등을 기술한다. 개체 관계 다이어그램(ERD)이나 객체 정의어(ODL) 등의 설계 도구를 이용하여 레코드와 이를 구성하는 데이터 항목의 이름을 부여하고 그들간의 관계를 표시하고 데이터 유형과 제약저건등을 표현한다.
- 외부 스키마는 여러 가지 측면에서 데이터베이스를 바라보는 관점이므로 다수 개가 있을 수 있으나 개념 스키마와 **내부 스키마**는 하나만이 존재한다.

## 3. 데이터베이스 관리 시스템

- **블로킹** 혹은 블록화는 몇 개의 레코드를 묶는 것이다.
- **버퍼**는 데이터 관리가 주기억장치에 저장하는 영역이다.
- 데이터 베이스의 경우에는 블록을 파일의 블록과 구별하기 위하여 **페이지**라 부른다.
- 데이터 베이스 안의 레코드는 그 레코드의 내용과 그 레코드의 위치를 나타내는 어드레스 정보, 그리고 그 레코드와 연관있는 레코드의 어드레스 정보로 구성되어 있다. 자기 자신의 어드레스 정보와 상대방 어드레스 정보를 구별하기 위하여 자기 자신의 어드레스 정보를 **저장 어드레스부**라 하고 상대방 어드레스 정보를 **포인터**라 부른다.
- 데이터베이스 내의 레코드를 읽을 때 포인터를 더듬어 읽는 방법 이외에도 키 값을 이용하여 레코드를 추출하는 방법이 있다. 이를 **엔트리 방법**이라 한다.
- 주어진 어느 함수에 의해 다른 수식으로 변환하여 기억매체의 저장 번호를 얻는 방식을 **해싱**이라 한다. 이 때 사용하는 함수를 **해싱 함수**라 하며 함수 값을 **해시 번지**라 한다. 복수개의 키인 해시 번지가 같을 경우 **충돌**이 발생했다고 말하며 키는 **동의어**라고 한다.
- 동의어 키를 가진 레코드는 충돌이 발생한 곳에서 가까운 페이지에 저장되도록 해두면 디스크 헤드의 동작을 최소한으로 할 수 있다.

## 5. 데이터 모델링

- **엔티티**는 데이터베이스 속에 저장하고자 하는 유형이나 무형의 객체을 말한다. 엔티티는 유형이든 무형이든 상관이 없으나 단지 그정보의 특징을 갖는다는 특성을 갖는다. 데이터 모델에 따라 주체, 오브젝트라는 용어로도 쓰인다. 데이터 모델에서 대상세계를 모델화할 때 대상에 대응하여 대상을 표현하는 개념이다.
- 데이터베이스에서 각 엔티티를 설명할 수 있는 애트리뷰트를 생각하여 보자. 다른 엔티티에서 그 애트리뷰트의 속성 값과 같은 값을 갖지 못할 때 애트리뷰트의 값이 유일한 값을 가질 경우 이 애트리뷰트를 엔티티 식별자라 한다. 이 애트리뷰트와 대응하는 데이터 항목을 **주키**라 한다.
- 엔티티의 식별은 어렵지만 어느 성질을 갖는 엔티티 그룹에 대하여 식별이 가능한 애트리뷰트 즉 레코드의 그룹을 식별할 수 있는 데이터 항목을 **2차 키**라 부른다.
- 도메인 = 정의역이란 관계데이터베이스에서 어떤 테이블이 가지고 있는 애트리뷰트 값의 범위이며 데이터베이스 관리 체계에서 하나의 파일에 있는 필드가 위할 수 있는 값의 집합이다.
- 정합성이란 데이터베이스 안에 저장되어지는 데이터가 정확한 데이터라는 상태의 설질을 의임하낟. 유사한 개념으로 멀티프로세서에서 복수의 프로세서가 데이터베이스를 동시에 갱신할 때 데이터베이스의 내용이 혼선을 일으키지 않는 것을 말하며 완전성 또는 일관성이라고도 한다.
- 데이터 항목간의 관련성
  - 1대 1의 관계: A에 속하는 한 엔티티에 대해 B의 한 엔티티만 관련하며 B에 속하는 한 엔티티에 대해 A의 한 엔티티만 관련한다.
  - 1대 n의 관계: A에 속하는 한 엔티티에 대해 B의 여러 엔티티가 관련하나 B에 속하는 한 엔티티에 대해 A의 한 엔티티만 관련한다. A의 어떤 데이터 항목 타입에 대하여 B의 데이터 항목이 1개인 관계, 복수 개(n)
    인 관계, 하나도 없는 관계 등 3가지 관계가 있는 경우이다.
  - n대 1의 관계: A에 속하는 여러 엔티티에 대해 B의 한 엔티티가 관련하나 B에 속하는 한 엔티티에 대해 A의 여러 엔티티에 관련한다.
  - n대 n의 관계: A에 속하는 여러 엔티티에 대해 B의 한 엔티티가 관련하나 B에 속하는 한 엔티티에 대해 A의 여러 엔티티에 관련한다. 예로는 한 사람이 여러 계좌로 은행 거래로 한다고 할 때에는 1대 n이지만, 은행 구좌를 가족 구성원 모두가 이용할 경우에는 n대 n의 경우가 이에 속한다.
  - 데이터와 데이터와의 관계의 기술을 스키마라 한다.
- 데이터 구조란 데이터베이스에 있어서 데이터와 데이터 사이의 관련성을 나타내는 것을 의미한다. 트리 구조로 표현 가능한 계층 모델과 망 구조로 표현 가능한 네트워크 모델이 있다. 또한 관계 모델은 실체형인 관계를 트리 구조나 망 구조로 표현하지 않으나 데이터 조작에 있어서 망 구조와 똑같은 조작이 가능한 모델이다.

## 6. 관계형 데이터베이스

- 릴레이션 차수 = 필드의 개수
- 릴레이션 카디널리티 = 레코드의 개수. 카디널리티란 관계를 표현할 수 있는 모든 테이블의 곱집합이다.
- 정규화: 관계형 데이터베이스에서 모든 관계에서의 모든 항의 속성 값은 원자(atomic) 값이다. 즉 그 릴레이션의 속성들은 논리적으로 더 이상 분해할 수 없는 값이다.
- 키
  - 완전성의 법칙 1: 기본키의 값은 null 값을 가질 수 없다.
  - 완전성의 법칙 2 = 참조의 완전성 : 기본 정의역에서 정의되어진 속성을 포함하는 임의 관계에는 제약 조건이 있다. D를 기본 정의역으로 하고 R1를 D에서 정의되어진 속성 A를 가지는 관계라 할 때, 임의의 시점에서 R1의 A의 값이 null 값이던가 V와 같아야 한다. V는 D에서 정의되어진 기본키를 가지는 관계 R2 중에 있는 항의 기본키 값이다. A와 같은 속성을 외부키라고 부른다.
- 후보키: 유일성과 최소성을 만족하는 키
  - 유일성: 어떤 릴레이션 R의 모든 투플에 대한 K의 값이 모든 다르고 유일하다.
  - 최소성: 어떤 릴레이션 R의 모든 투플에 대한 K가 모든 투플들을 유일하게 식별하게 반드시 필요한 애트리부트들만으로 구성된다.
- 수퍼키: 유일성만 가지고 최소성이 없는 키
- 외래키 = 참조키 : 어떤 릴레이션 R1에 정의되어진 애트리뷰트 집합을 FK라 하자. 임의로 주어진 시점에서 R1의 FK값이 어떤 릴레이션 R2에 정의되어진 기본키(PK)가 된다고라고 할 때 이 FK는 릴레이션 R1의 외래키 또는 참조키라고 한다. 애트리뷰트 집합 FK는 릴레이션 R2를 참조한다라고 하며, R2는 참조릴레이션 이라 한다.
- 관계 데이터 제약
  - 영역 무결성 제약: 테이블의 어떤 필드에 유효한 값만을 허용한다.
  - 개체 무결성 제약: 테이블의 각 행을 유일한 값으로 식별하도록 한다. 기본키의 값은 null 값을 가질 수 없다.
  - 참조 무경성 제약: 참조하는 관계의 투플 값이 반드시 참조되는 투풀에 존재하여야 한다.

## 7. 관계 데이터 연산

- 관계 대수: 관계형 데이터베이스의 릴레이션을 조작하기 위하여 데이터 획득 절차를 명세해 주는 절차 언어. 어떻게 해야하는지 일련의 연산을 순서적으로 명세한다.
- 관계 해석: 관계형 데이터베이스의 릴레이션을 조작하기 위하여 데이터 획득 절차를 명세해주지 않는 비절차 언어. 원하는 정부가 무엇인지 선언한다.

## 9. 데이터베이스 설계

- 정보 모델링 도구로는 대표적으로 개체-관계 모델(Entity - Relationship - Model)이 현재 가장 널리 이용되고 있다.
- 데이터베이스의 개념적 설계는 요구사항 분석 단계의 정형적인 요구사항 명세와 정보 모델링에 의한 정보 구조를 기반으로 데이터베이스의 개념적 스키마를 설계하는 단계이다. 개념적 스키마는 요구사항 분석 단계의 정형적인 요구사항 명세를 E-R 다이어그램과 같은 정보 모델링 도구를 이용하여 DBMS 엔진과는 무관하게 기술한 스키마이다.
- ERM
  - 개체, 개체간의 관계, 개체를 구성하는 속성 등으로 구성된다.
  - 개체 타입: 직사각형, 관계 타입: 마름모, 속성: 원, 링크: 선,

## 10. 정규화

- 정규화는 데이터베이스를 최적화 시키는 것을 말한다. 데이터베이스의 최적화란 데이터베이스 설계 시 불필요한 중복 데이터와 비정규성을 제거하여 속도를 향상시키는 것을 말한다. 정규화는 불필요한 중복 데이터를 없애기 위해 테이블을 여러 개로 나누어 설계하는 방법으로 여러 개의 테이블로 나누었을 경우 조인을 해야하는 경우가 증가하게 됨으로 속도 저하가 발생할 수 있다.
- 정규화 작업의 가장 큰 목적은 저장 시 데이터의 중복성 배제이다. 정규화는 릴레이션의 형태에 따라 제1정규형, 제2정규형, 제3정규형, 보이스-코드 정규형, 제4정규형, 제5정규형으로 구분한다. 높은 단계의 정규형으로 테이블을 나눌수록 데이터의 본질적 의미가 테이블 구조에 보다 정확히 반영되고 또한 데이터의 중복성이 줄어든다. 실 업무에서는 주로 제3정규형과 보이스-코드정규형을 가장 많이 사용한다.
- 이상 현상의 종류에는 삭제 이상, 삽입 이상, 갱신 이상 등의 3 종류가 있다.
  - 삭제 이상: 잘못 설계된 릴레이션에서 한 투플에 대한 삭제 연산 시에 유지해야될 상품 정보까지도 삭제되는 연쇄 삭제 현상이 일어날 경우.
  - 삽입 이상: 삽입 연산 시에 어떤 데이터를 삽입하려고 할 때 이 릴레이션에 원하지 않는 불필요한 데이터까지도 함께 삽입해야만 된다. 이러한 현상을 삽입 이상이라고 한다.
  - 갱신 이상: 어떤 릴레이션 R에서 중복 저장되어 있는 애트리뷰트 값 중 일부 애트리뷰트 값만 갱신시킴으로써 데이터의 불일치(모순성) 현상이 일어나게 된다. 이러한 현상을 갱신 이상이라고 한다.
- 함수적 종속성: 어떤 릴레이션 R에서 애트리뷰트 X의 값 각각에 대해 애트리뷰트 Y의 값이 오직 하나만 연관되어 있을 때 Y는 X에 함수적 종속되어 있다라고 한다. X의 애트리뷰트 값이 Y의 애트리뷰트 값을 결정한다. 그리고 X를 결정자라고 하고 Y를 종속자라고 한다.
- 제1정규형: 어떤 릴레이션 R에 포함된 모든 애트리뷰트 값이 **원자값**만으로 구성되도록 정규화하는 것.
  - 이상현상 1: 특정 상품의 상품명을 변경할 경우 하나의 투플에 저장된 것만을 변경하고 나머지 투플을 변경하지 않을 경우 갱신 이상이 발생한다.
  - 이상현상 2: 특정 거래처와 거래를 중단할 경우 그 거래처에 해당하는 거래처 정보는 물론 특정 거래처에 거래하고 있는 모든 상품에 대한 정보까지도 삭제되는 삭제 이상이 발생한다.
  - 이상현상 3: 새로운 거래처에 대한 정보를 삽입하고자 할 때, 가상의 상품 정보가지도 같이 삽입하여야 하는 삽입 이상이 발생한다.
- 제2정규형: 어떤 릴레이션 R이 제 1정규형의 조건을 만족하면서 **릴레이션의 기본키에 속하지 않는 나머지 애트리뷰트들**이 기본키에 **완전 함수적 종속 관계**가 되도록 정규화하는 것.
  - 이상현상 1: 특정 거래처의 거래처명을 변경할 경우 하나의 투플에 저장된 것만을 변경하고 나머지 투플을 변경하지 않을 경우 갱신 이상이 발생한다. 즉 거래처 릴레이션에 거래처 정보와 판매정보를 함께 포함되도록 설계되어 있기 때문에 동일 거래처에 여러 상품을 판매함으로서 중복 데이터가 저장되는 갱신 이상이 발생한다.
  - 이상현상 2: 특정 거래처와 거래를 중단할 경우 그 거래처에 해당하는 거래처 정보까지도 삭제되는 삭제 이상이 발생한다.
  - 이상현상 3: 새로운 거래처에 대한 정보를 삽입하고자 할 때, 가상의 상품 정보까지도 같이 삽입하여야 하는 삽입 이상이 발생한다.
- 제3정규형: 어떤 릴레이션 R이 제2정규형의 조건을 만족하면서 릴레이션의 기본키에 속하지 않는 나머지 모든 애트리뷰트들이 기본키에 **이행적 함수적 종속 관계**가 아닐 때 제 3정규형이라고 한다.
  - 결론적으로 함수 종속성 의미를 구성하는 각 요소 단위로 릴레이션을 설계한 것이다. 함수 종속성의 결정자가 각 릴레이션의 기본 키가 된다.
  - 보이스-코드 정규화: 어떤 릴레이션 R의 모든 결정자가 후보키일 경우 릴레이션 R은 보이스-코드 정규형이라고 한다. BCNF면 모두 제 3정규형이다.
  - 완전 함수적 종속: 종속자가 기본키에만 종속되며, 기본키가 여러 속성으로 구성되어 있을 경우, 기본키를 구성하는 모든 속성이 포함된 기본키의 부분집합에 종속된 경우
  - 부분 함수적 종속: 릴레이션에서 종속자가 기본키가 아닌 다른 속성에 종속되거나, 기본키가 여러 속성으로 구성되어 있을 경우 기본키를 구성하는 속성 중 일부만 종속되는 경우입니다.
